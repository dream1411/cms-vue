{"version":3,"names":["packageJson","DefaultStore","constructor","Set","state","getState","setState","patch","prevState","nextState","subscribe","listener","add","delete","args","forEach","VERSION","version"],"sources":["index.js"],"sourcesContent":["import packageJson from '../package.json'\n/**\n * Default store that keeps state in a simple object.\n */\nclass DefaultStore {\n  static VERSION = packageJson.version\n\n  #callbacks = new Set()\n\n  constructor () {\n    this.state = {}\n  }\n\n  getState () {\n    return this.state\n  }\n\n  setState (patch) {\n    const prevState = { ...this.state }\n    const nextState = { ...this.state, ...patch }\n\n    this.state = nextState\n    this.#publish(prevState, nextState, patch)\n  }\n\n  subscribe (listener) {\n    this.#callbacks.add(listener)\n    return () => {\n      this.#callbacks.delete(listener)\n    }\n  }\n\n  #publish (...args) {\n    this.#callbacks.forEach((listener) => {\n      listener(...args)\n    })\n  }\n}\n\nexport default DefaultStore\n"],"mappings":";;;;;;MAAOA,W;;;AACP;AACA;AACA;;;;;;AACA,MAAMC,YAAN,CAAmB;EAKjBC,WAAW,GAAI;IAAA;MAAA;IAAA;IAAA;MAAA;MAAA,OAFF,IAAIC,GAAJ;IAEE;IACb,KAAKC,KAAL,GAAa,EAAb;EACD;;EAEDC,QAAQ,GAAI;IACV,OAAO,KAAKD,KAAZ;EACD;;EAEDE,QAAQ,CAAEC,KAAF,EAAS;IACf,MAAMC,SAAS,GAAG,EAAE,GAAG,KAAKJ;IAAV,CAAlB;IACA,MAAMK,SAAS,GAAG,EAAE,GAAG,KAAKL,KAAV;MAAiB,GAAGG;IAApB,CAAlB;IAEA,KAAKH,KAAL,GAAaK,SAAb;;IACA,sDAAcD,SAAd,EAAyBC,SAAzB,EAAoCF,KAApC;EACD;;EAEDG,SAAS,CAAEC,QAAF,EAAY;IACnB,0DAAgBC,GAAhB,CAAoBD,QAApB;;IACA,OAAO,MAAM;MACX,0DAAgBE,MAAhB,CAAuBF,QAAvB;IACD,CAFD;EAGD;;AA1BgB;;qBA4BE;EAAA,kCAANG,IAAM;IAANA,IAAM;EAAA;;EACjB,0DAAgBC,OAAhB,CAAyBJ,QAAD,IAAc;IACpCA,QAAQ,CAAC,GAAGG,IAAJ,CAAR;EACD,CAFD;AAGD;;AAhCGb,Y,CACGe,O,GAAUhB,WAAW,CAACiB,O;AAkC/B,eAAehB,YAAf"}