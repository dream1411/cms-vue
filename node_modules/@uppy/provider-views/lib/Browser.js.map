{"version":3,"names":["h","classNames","remoteFileObjToLocal","Filter","FooterActions","Item","VIRTUAL_SHARED_DIR","Browser","props","currentSelection","folders","files","uppyFiles","viewType","headerComponent","showBreadcrumbs","isChecked","toggleCheckbox","recordShiftKeyPress","handleScroll","showTitles","i18n","validateRestrictions","showFilter","filterQuery","filterInput","getNextFolder","cancel","done","columns","selected","length","map","folder","id","title","name","getItemIcon","icon","event","type","isDisabled","loading","isCheckboxDisabled","handleFolderClick","file","restrictionError","author"],"sources":["Browser.jsx"],"sourcesContent":["import { h } from 'preact'\n\nimport classNames from 'classnames'\n\nimport remoteFileObjToLocal from '@uppy/utils/lib/remoteFileObjToLocal'\n\nimport Filter from './Filter.jsx'\nimport FooterActions from './FooterActions.jsx'\nimport Item from './Item/index.jsx'\n\nconst VIRTUAL_SHARED_DIR = 'shared-with-me'\n\nfunction Browser (props) {\n  const {\n    currentSelection,\n    folders,\n    files,\n    uppyFiles,\n    viewType,\n    headerComponent,\n    showBreadcrumbs,\n    isChecked,\n    toggleCheckbox,\n    recordShiftKeyPress,\n    handleScroll,\n    showTitles,\n    i18n,\n    validateRestrictions,\n    showFilter,\n    filterQuery,\n    filterInput,\n    getNextFolder,\n    cancel,\n    done,\n    columns,\n  } = props\n\n  const selected = currentSelection.length\n\n  return (\n    <div\n      className={classNames(\n        'uppy-ProviderBrowser',\n        `uppy-ProviderBrowser-viewType--${viewType}`,\n      )}\n    >\n      <div className=\"uppy-ProviderBrowser-header\">\n        <div\n          className={classNames(\n            'uppy-ProviderBrowser-headerBar',\n            !showBreadcrumbs && 'uppy-ProviderBrowser-headerBar--simple',\n          )}\n        >\n          {headerComponent}\n        </div>\n      </div>\n\n      {showFilter && (\n        <Filter\n          i18n={i18n}\n          filterQuery={filterQuery}\n          filterInput={filterInput}\n        />\n      )}\n\n      {(() => {\n        if (!folders.length && !files.length) {\n          return (\n            <div className=\"uppy-Provider-empty\">\n              {i18n('noFilesFound')}\n            </div>\n          )\n        }\n\n        return (\n          <div className=\"uppy-ProviderBrowser-body\">\n            <ul\n              className=\"uppy-ProviderBrowser-list\"\n              onScroll={handleScroll}\n              role=\"listbox\"\n              // making <ul> not focusable for firefox\n              tabIndex=\"-1\"\n            >\n              {folders.map((folder) => {\n                return Item({\n                  columns,\n                  showTitles,\n                  viewType,\n                  i18n,\n                  id: folder.id,\n                  title: folder.name,\n                  getItemIcon: () => folder.icon,\n                  isChecked: isChecked(folder),\n                  toggleCheckbox: (event) => toggleCheckbox(event, folder),\n                  recordShiftKeyPress,\n                  type: 'folder',\n                  isDisabled: isChecked(folder)?.loading,\n                  isCheckboxDisabled: folder.id === VIRTUAL_SHARED_DIR,\n                  handleFolderClick: () => getNextFolder(folder),\n                })\n              })}\n\n              {files.map((file) => {\n                const restrictionError = validateRestrictions(\n                  remoteFileObjToLocal(file),\n                  [...uppyFiles, ...currentSelection],\n                )\n\n                return Item({\n                  id: file.id,\n                  title: file.name,\n                  author: file.author,\n                  getItemIcon: () => file.icon,\n                  isChecked: isChecked(file),\n                  toggleCheckbox: (event) => toggleCheckbox(event, file),\n                  recordShiftKeyPress,\n                  columns,\n                  showTitles,\n                  viewType,\n                  i18n,\n                  type: 'file',\n                  isDisabled: restrictionError && !isChecked(file),\n                  restrictionError,\n                })\n              })}\n            </ul>\n          </div>\n        )\n      })()}\n\n      {selected > 0 && (\n        <FooterActions\n          selected={selected}\n          done={done}\n          cancel={cancel}\n          i18n={i18n}\n        />\n      )}\n    </div>\n  )\n}\n\nexport default Browser\n"],"mappings":"AAAA,SAASA,CAAT,QAAkB,QAAlB;AAEA,OAAOC,UAAP,MAAuB,YAAvB;AAEA,OAAOC,oBAAP,MAAiC,sCAAjC;AAEA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,aAAP,MAA0B,oBAA1B;AACA,OAAOC,IAAP,MAAiB,iBAAjB;AAEA,MAAMC,kBAAkB,GAAG,gBAA3B;;AAEA,SAASC,OAAT,CAAkBC,KAAlB,EAAyB;EACvB,MAAM;IACJC,gBADI;IAEJC,OAFI;IAGJC,KAHI;IAIJC,SAJI;IAKJC,QALI;IAMJC,eANI;IAOJC,eAPI;IAQJC,SARI;IASJC,cATI;IAUJC,mBAVI;IAWJC,YAXI;IAYJC,UAZI;IAaJC,IAbI;IAcJC,oBAdI;IAeJC,UAfI;IAgBJC,WAhBI;IAiBJC,WAjBI;IAkBJC,aAlBI;IAmBJC,MAnBI;IAoBJC,IApBI;IAqBJC;EArBI,IAsBFrB,KAtBJ;EAwBA,MAAMsB,QAAQ,GAAGrB,gBAAgB,CAACsB,MAAlC;EAEA,OACE;IACE,SAAS,EAAE9B,UAAU,CACnB,sBADmB,EAElB,kCAAiCY,QAAS,EAFxB;EADvB,GAME;IAAK,SAAS,EAAC;EAAf,GACE;IACE,SAAS,EAAEZ,UAAU,CACnB,gCADmB,EAEnB,CAACc,eAAD,IAAoB,wCAFD;EADvB,GAMGD,eANH,CADF,CANF,EAiBGS,UAAU,IACT,EAAC,MAAD;IACE,IAAI,EAAEF,IADR;IAEE,WAAW,EAAEG,WAFf;IAGE,WAAW,EAAEC;EAHf,EAlBJ,EAyBG,CAAC,MAAM;IACN,IAAI,CAACf,OAAO,CAACqB,MAAT,IAAmB,CAACpB,KAAK,CAACoB,MAA9B,EAAsC;MACpC,OACE;QAAK,SAAS,EAAC;MAAf,GACGV,IAAI,CAAC,cAAD,CADP,CADF;IAKD;;IAED,OACE;MAAK,SAAS,EAAC;IAAf,GACE;MACE,SAAS,EAAC,2BADZ;MAEE,QAAQ,EAAEF,YAFZ;MAGE,IAAI,EAAC,SAHP,CAIE;MAJF;MAKE,QAAQ,EAAC;IALX,GAOGT,OAAO,CAACsB,GAAR,CAAaC,MAAD,IAAY;MAAA;;MACvB,OAAO5B,IAAI,CAAC;QACVwB,OADU;QAEVT,UAFU;QAGVP,QAHU;QAIVQ,IAJU;QAKVa,EAAE,EAAED,MAAM,CAACC,EALD;QAMVC,KAAK,EAAEF,MAAM,CAACG,IANJ;QAOVC,WAAW,EAAE,MAAMJ,MAAM,CAACK,IAPhB;QAQVtB,SAAS,EAAEA,SAAS,CAACiB,MAAD,CARV;QASVhB,cAAc,EAAGsB,KAAD,IAAWtB,cAAc,CAACsB,KAAD,EAAQN,MAAR,CAT/B;QAUVf,mBAVU;QAWVsB,IAAI,EAAE,QAXI;QAYVC,UAAU,gBAAEzB,SAAS,CAACiB,MAAD,CAAX,qBAAE,WAAmBS,OAZrB;QAaVC,kBAAkB,EAAEV,MAAM,CAACC,EAAP,KAAc5B,kBAbxB;QAcVsC,iBAAiB,EAAE,MAAMlB,aAAa,CAACO,MAAD;MAd5B,CAAD,CAAX;IAgBD,CAjBA,CAPH,EA0BGtB,KAAK,CAACqB,GAAN,CAAWa,IAAD,IAAU;MACnB,MAAMC,gBAAgB,GAAGxB,oBAAoB,CAC3CpB,oBAAoB,CAAC2C,IAAD,CADuB,EAE3C,CAAC,GAAGjC,SAAJ,EAAe,GAAGH,gBAAlB,CAF2C,CAA7C;MAKA,OAAOJ,IAAI,CAAC;QACV6B,EAAE,EAAEW,IAAI,CAACX,EADC;QAEVC,KAAK,EAAEU,IAAI,CAACT,IAFF;QAGVW,MAAM,EAAEF,IAAI,CAACE,MAHH;QAIVV,WAAW,EAAE,MAAMQ,IAAI,CAACP,IAJd;QAKVtB,SAAS,EAAEA,SAAS,CAAC6B,IAAD,CALV;QAMV5B,cAAc,EAAGsB,KAAD,IAAWtB,cAAc,CAACsB,KAAD,EAAQM,IAAR,CAN/B;QAOV3B,mBAPU;QAQVW,OARU;QASVT,UATU;QAUVP,QAVU;QAWVQ,IAXU;QAYVmB,IAAI,EAAE,MAZI;QAaVC,UAAU,EAAEK,gBAAgB,IAAI,CAAC9B,SAAS,CAAC6B,IAAD,CAbhC;QAcVC;MAdU,CAAD,CAAX;IAgBD,CAtBA,CA1BH,CADF,CADF;EAsDD,CA/DA,GAzBH,EA0FGhB,QAAQ,GAAG,CAAX,IACC,EAAC,aAAD;IACE,QAAQ,EAAEA,QADZ;IAEE,IAAI,EAAEF,IAFR;IAGE,MAAM,EAAED,MAHV;IAIE,IAAI,EAAEN;EAJR,EA3FJ,CADF;AAqGD;;AAED,eAAed,OAAf"}