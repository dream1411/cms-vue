{"version":3,"names":["h","UIPlugin","packageJson","ProgressBar","constructor","uppy","opts","id","title","type","defaultOptions","target","fixed","hideAfterFinish","render","bind","state","progress","totalProgress","isHidden","position","width","install","mount","uninstall","unmount","VERSION","version"],"sources":["ProgressBar.jsx"],"sourcesContent":["import { h } from 'preact'\nimport { UIPlugin } from '@uppy/core'\n\nimport packageJson from '../package.json'\n\n/**\n * Progress bar\n *\n */\nexport default class ProgressBar extends UIPlugin {\n  static VERSION = packageJson.version\n\n  constructor (uppy, opts) {\n    super(uppy, opts)\n    this.id = this.opts.id || 'ProgressBar'\n    this.title = 'Progress Bar'\n    this.type = 'progressindicator'\n\n    // set default options, must kept in sync with @uppy/react/src/ProgressBar.js\n    const defaultOptions = {\n      target: 'body',\n      fixed: false,\n      hideAfterFinish: true,\n    }\n\n    // merge default options with the ones set by user\n    this.opts = { ...defaultOptions, ...opts }\n\n    this.render = this.render.bind(this)\n  }\n\n  render (state) {\n    const progress = state.totalProgress || 0\n    // before starting and after finish should be hidden if specified in the options\n    const isHidden = (progress === 0 || progress === 100) && this.opts.hideAfterFinish\n    return (\n      <div\n        className=\"uppy uppy-ProgressBar\"\n        style={{ position: this.opts.fixed ? 'fixed' : 'initial' }}\n        aria-hidden={isHidden}\n      >\n        <div className=\"uppy-ProgressBar-inner\" style={{ width: `${progress}%` }} />\n        <div className=\"uppy-ProgressBar-percentage\">{progress}</div>\n      </div>\n    )\n  }\n\n  install () {\n    const { target } = this.opts\n    if (target) {\n      this.mount(target, this)\n    }\n  }\n\n  uninstall () {\n    this.unmount()\n  }\n}\n"],"mappings":"AAAA,SAASA,CAAT,QAAkB,QAAlB;AACA,SAASC,QAAT,QAAyB,YAAzB;MAEOC,W;;;AAEP;AACA;AACA;AACA;;AACA,eAAe,MAAMC,WAAN,SAA0BF,QAA1B,CAAmC;EAGhDG,WAAW,CAAEC,IAAF,EAAQC,IAAR,EAAc;IACvB,MAAMD,IAAN,EAAYC,IAAZ;IACA,KAAKC,EAAL,GAAU,KAAKD,IAAL,CAAUC,EAAV,IAAgB,aAA1B;IACA,KAAKC,KAAL,GAAa,cAAb;IACA,KAAKC,IAAL,GAAY,mBAAZ,CAJuB,CAMvB;;IACA,MAAMC,cAAc,GAAG;MACrBC,MAAM,EAAE,MADa;MAErBC,KAAK,EAAE,KAFc;MAGrBC,eAAe,EAAE;IAHI,CAAvB,CAPuB,CAavB;;IACA,KAAKP,IAAL,GAAY,EAAE,GAAGI,cAAL;MAAqB,GAAGJ;IAAxB,CAAZ;IAEA,KAAKQ,MAAL,GAAc,KAAKA,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAd;EACD;;EAEDD,MAAM,CAAEE,KAAF,EAAS;IACb,MAAMC,QAAQ,GAAGD,KAAK,CAACE,aAAN,IAAuB,CAAxC,CADa,CAEb;;IACA,MAAMC,QAAQ,GAAG,CAACF,QAAQ,KAAK,CAAb,IAAkBA,QAAQ,KAAK,GAAhC,KAAwC,KAAKX,IAAL,CAAUO,eAAnE;IACA,OACE;MACE,SAAS,EAAC,uBADZ;MAEE,KAAK,EAAE;QAAEO,QAAQ,EAAE,KAAKd,IAAL,CAAUM,KAAV,GAAkB,OAAlB,GAA4B;MAAxC,CAFT;MAGE,eAAaO;IAHf,GAKE;MAAK,SAAS,EAAC,wBAAf;MAAwC,KAAK,EAAE;QAAEE,KAAK,EAAG,GAAEJ,QAAS;MAArB;IAA/C,EALF,EAME;MAAK,SAAS,EAAC;IAAf,GAA8CA,QAA9C,CANF,CADF;EAUD;;EAEDK,OAAO,GAAI;IACT,MAAM;MAAEX;IAAF,IAAa,KAAKL,IAAxB;;IACA,IAAIK,MAAJ,EAAY;MACV,KAAKY,KAAL,CAAWZ,MAAX,EAAmB,IAAnB;IACD;EACF;;EAEDa,SAAS,GAAI;IACX,KAAKC,OAAL;EACD;;AA/C+C;AAA7BtB,W,CACZuB,O,GAAUxB,WAAW,CAACyB,O"}