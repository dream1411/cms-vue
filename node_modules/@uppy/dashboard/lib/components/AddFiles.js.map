{"version":3,"names":["h","Component","Fragment","Symbol","for","AddFiles","triggerFileInputClick","fileInput","click","triggerFolderInputClick","folderInput","triggerVideoCameraInputClick","mobileVideoFileInput","triggerPhotoCameraInputClick","mobilePhotoFileInput","onFileInputChange","event","props","handleInputChange","target","value","renderHiddenInput","isFolder","refCallback","maxNumberOfFiles","allowedFileTypes","renderHiddenCameraInput","type","nativeCameraFacingMode","typeToAccept","photo","video","accept","renderMyDeviceAcquirer","i18n","renderPhotoCamera","renderVideoCamera","renderBrowseButton","text","onClickFn","numberOfAcquirers","acquirers","length","renderDropPasteBrowseTagline","browseFiles","browseFolders","lowerFMSelectionType","fileManagerSelectionType","camelFMSelectionType","charAt","toUpperCase","slice","disableLocalFiles","i18nArray","browse","renderAcquirer","acquirer","id","activePickerPanel","showPanel","icon","name","renderAcquirers","acquirersWithoutLastTwo","lastTwoAcquirers","splice","map","renderSourcesList","showNativePhotoCameraButton","showNativeVideoCameraButton","renderPoweredByUppy","uppyBranding","linkText","uppy","render","ref","note","proudlyDisplayPoweredByUppy"],"sources":["AddFiles.jsx"],"sourcesContent":["import { h, Component, Fragment } from 'preact'\n\nclass AddFiles extends Component {\n  triggerFileInputClick = () => {\n    this.fileInput.click()\n  }\n\n  triggerFolderInputClick = () => {\n    this.folderInput.click()\n  }\n\n  triggerVideoCameraInputClick = () => {\n    this.mobileVideoFileInput.click()\n  }\n\n  triggerPhotoCameraInputClick = () => {\n    this.mobilePhotoFileInput.click()\n  }\n\n  onFileInputChange = (event) => {\n    this.props.handleInputChange(event)\n\n    // We clear the input after a file is selected, because otherwise\n    // change event is not fired in Chrome and Safari when a file\n    // with the same name is selected.\n    // ___Why not use value=\"\" on <input/> instead?\n    //    Because if we use that method of clearing the input,\n    //    Chrome will not trigger change if we drop the same file twice (Issue #768).\n    event.target.value = null // eslint-disable-line no-param-reassign\n  }\n\n  renderHiddenInput = (isFolder, refCallback) => {\n    return (\n      <input\n        className=\"uppy-Dashboard-input\"\n        hidden\n        aria-hidden=\"true\"\n        tabIndex={-1}\n        webkitdirectory={isFolder}\n        type=\"file\"\n        name=\"files[]\"\n        multiple={this.props.maxNumberOfFiles !== 1}\n        onChange={this.onFileInputChange}\n        accept={this.props.allowedFileTypes}\n        ref={refCallback}\n      />\n    )\n  }\n\n  renderHiddenCameraInput = (type, nativeCameraFacingMode, refCallback) => {\n    const typeToAccept = { photo: 'image/*', video: 'video/*' }\n    const accept = typeToAccept[type]\n\n    return (\n      <input\n        className=\"uppy-Dashboard-input\"\n        hidden\n        aria-hidden=\"true\"\n        tabIndex={-1}\n        type=\"file\"\n        name={`camera-${type}`}\n        onChange={this.onFileInputChange}\n        capture={nativeCameraFacingMode}\n        accept={accept}\n        ref={refCallback}\n      />\n    )\n  }\n\n  renderMyDeviceAcquirer = () => {\n    return (\n      <div\n        className=\"uppy-DashboardTab\"\n        role=\"presentation\"\n        data-uppy-acquirer-id=\"MyDevice\"\n      >\n        <button\n          type=\"button\"\n          className=\"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\"\n          role=\"tab\"\n          tabIndex={0}\n          data-uppy-super-focusable\n          onClick={this.triggerFileInputClick}\n        >\n          <svg aria-hidden=\"true\" focusable=\"false\" width=\"32\" height=\"32\" viewBox=\"0 0 32 32\">\n            <g fill=\"none\" fillRule=\"evenodd\">\n              <rect className=\"uppy-ProviderIconBg\" width=\"32\" height=\"32\" rx=\"16\" fill=\"#2275D7\" />\n              <path d=\"M21.973 21.152H9.863l-1.108-5.087h14.464l-1.246 5.087zM9.935 11.37h3.958l.886 1.444a.673.673 0 0 0 .585.316h6.506v1.37H9.935v-3.13zm14.898 3.44a.793.793 0 0 0-.616-.31h-.978v-2.126c0-.379-.275-.613-.653-.613H15.75l-.886-1.445a.673.673 0 0 0-.585-.316H9.232c-.378 0-.667.209-.667.587V14.5h-.782a.793.793 0 0 0-.61.303.795.795 0 0 0-.155.663l1.45 6.633c.078.36.396.618.764.618h13.354c.36 0 .674-.246.76-.595l1.631-6.636a.795.795 0 0 0-.144-.675z\" fill=\"#FFF\" />\n            </g>\n          </svg>\n          <div className=\"uppy-DashboardTab-name\">{this.props.i18n('myDevice')}</div>\n        </button>\n      </div>\n    )\n  }\n\n  renderPhotoCamera = () => {\n    return (\n      <div\n        className=\"uppy-DashboardTab\"\n        role=\"presentation\"\n        data-uppy-acquirer-id=\"MobilePhotoCamera\"\n      >\n        <button\n          type=\"button\"\n          className=\"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\"\n          role=\"tab\"\n          tabIndex={0}\n          data-uppy-super-focusable\n          onClick={this.triggerPhotoCameraInputClick}\n        >\n          <svg aria-hidden=\"true\" focusable=\"false\" width=\"32\" height=\"32\" viewBox=\"0 0 32 32\">\n            <g fill=\"none\" fillRule=\"evenodd\">\n              <rect className=\"uppy-ProviderIconBg\" fill=\"#03BFEF\" width=\"32\" height=\"32\" rx=\"16\" />\n              <path d=\"M22 11c1.133 0 2 .867 2 2v7.333c0 1.134-.867 2-2 2H10c-1.133 0-2-.866-2-2V13c0-1.133.867-2 2-2h2.333l1.134-1.733C13.6 9.133 13.8 9 14 9h4c.2 0 .4.133.533.267L19.667 11H22zm-6 1.533a3.764 3.764 0 0 0-3.8 3.8c0 2.129 1.672 3.801 3.8 3.801s3.8-1.672 3.8-3.8c0-2.13-1.672-3.801-3.8-3.801zm0 6.261c-1.395 0-2.46-1.066-2.46-2.46 0-1.395 1.065-2.461 2.46-2.461s2.46 1.066 2.46 2.46c0 1.395-1.065 2.461-2.46 2.461z\" fill=\"#FFF\" fillRule=\"nonzero\" />\n            </g>\n          </svg>\n          <div className=\"uppy-DashboardTab-name\">{this.props.i18n('takePictureBtn')}</div>\n        </button>\n      </div>\n    )\n  }\n\n  renderVideoCamera = () => {\n    return (\n      <div\n        className=\"uppy-DashboardTab\"\n        role=\"presentation\"\n        data-uppy-acquirer-id=\"MobileVideoCamera\"\n      >\n        <button\n          type=\"button\"\n          className=\"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\"\n          role=\"tab\"\n          tabIndex={0}\n          data-uppy-super-focusable\n          onClick={this.triggerVideoCameraInputClick}\n        >\n          <svg aria-hidden=\"true\" width=\"32\" height=\"32\" viewBox=\"0 0 32 32\">\n            <rect fill=\"#1abc9c\" width=\"32\" height=\"32\" rx=\"16\" />\n            <path fill=\"#FFF\" fillRule=\"nonzero\" d=\"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z \" />\n          </svg>\n          <div className=\"uppy-DashboardTab-name\">{this.props.i18n('recordVideoBtn')}</div>\n        </button>\n      </div>\n    )\n  }\n\n  renderBrowseButton = (text, onClickFn) => {\n    const numberOfAcquirers = this.props.acquirers.length\n    return (\n      <button\n        type=\"button\"\n        className=\"uppy-u-reset uppy-c-btn uppy-Dashboard-browse\"\n        onClick={onClickFn}\n        data-uppy-super-focusable={numberOfAcquirers === 0}\n      >\n        {text}\n      </button>\n    )\n  }\n\n  renderDropPasteBrowseTagline = () => {\n    const numberOfAcquirers = this.props.acquirers.length\n    const browseFiles = this.renderBrowseButton(this.props.i18n('browseFiles'), this.triggerFileInputClick)\n    const browseFolders = this.renderBrowseButton(this.props.i18n('browseFolders'), this.triggerFolderInputClick)\n\n    // in order to keep the i18n CamelCase and options lower (as are defaults) we will want to transform a lower\n    // to Camel\n    const lowerFMSelectionType = this.props.fileManagerSelectionType\n    const camelFMSelectionType = lowerFMSelectionType.charAt(0).toUpperCase() + lowerFMSelectionType.slice(1)\n\n    return (\n      <div class=\"uppy-Dashboard-AddFiles-title\">\n        {\n          // eslint-disable-next-line no-nested-ternary\n          this.props.disableLocalFiles ? this.props.i18n('importFiles')\n            : numberOfAcquirers > 0\n              ? this.props.i18nArray(`dropPasteImport${camelFMSelectionType}`, { browseFiles, browseFolders, browse: browseFiles })\n              : this.props.i18nArray(`dropPaste${camelFMSelectionType}`, { browseFiles, browseFolders, browse: browseFiles })\n        }\n      </div>\n    )\n  }\n\n  [Symbol.for('uppy test: disable unused locale key warning')] () {\n    // Those are actually used in `renderDropPasteBrowseTagline` method.\n    this.props.i18nArray('dropPasteBoth')\n    this.props.i18nArray('dropPasteFiles')\n    this.props.i18nArray('dropPasteFolders')\n    this.props.i18nArray('dropPasteImportBoth')\n    this.props.i18nArray('dropPasteImportFiles')\n    this.props.i18nArray('dropPasteImportFolders')\n  }\n\n  renderAcquirer = (acquirer) => {\n    return (\n      <div\n        className=\"uppy-DashboardTab\"\n        role=\"presentation\"\n        data-uppy-acquirer-id={acquirer.id}\n      >\n        <button\n          type=\"button\"\n          className=\"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\"\n          role=\"tab\"\n          tabIndex={0}\n          data-cy={acquirer.id}\n          aria-controls={`uppy-DashboardContent-panel--${acquirer.id}`}\n          aria-selected={this.props.activePickerPanel.id === acquirer.id}\n          data-uppy-super-focusable\n          onClick={() => this.props.showPanel(acquirer.id)}\n        >\n          {acquirer.icon()}\n          <div className=\"uppy-DashboardTab-name\">{acquirer.name}</div>\n        </button>\n      </div>\n    )\n  }\n\n  renderAcquirers = (acquirers) => {\n    // Group last two buttons, so we don’t end up with\n    // just one button on a new line\n    const acquirersWithoutLastTwo = [...acquirers]\n    const lastTwoAcquirers = acquirersWithoutLastTwo.splice(acquirers.length - 2, acquirers.length)\n\n    return (\n      <Fragment>\n        {acquirersWithoutLastTwo.map((acquirer) => this.renderAcquirer(acquirer))}\n        <span role=\"presentation\" style={{ 'white-space': 'nowrap' }}>\n          {lastTwoAcquirers.map((acquirer) => this.renderAcquirer(acquirer))}\n        </span>\n      </Fragment>\n    )\n  }\n\n  renderSourcesList = (acquirers, disableLocalFiles) => {\n    const { showNativePhotoCameraButton, showNativeVideoCameraButton } = this.props\n\n    return (\n      <div className=\"uppy-Dashboard-AddFiles-list\" role=\"tablist\">\n        {!disableLocalFiles && this.renderMyDeviceAcquirer()}\n        {!disableLocalFiles && showNativePhotoCameraButton && this.renderPhotoCamera()}\n        {!disableLocalFiles && showNativeVideoCameraButton && this.renderVideoCamera()}\n        {acquirers.length > 0 && this.renderAcquirers(acquirers)}\n      </div>\n    )\n  }\n\n  renderPoweredByUppy () {\n    const { i18nArray } = this.props\n\n    const uppyBranding = (\n      <span>\n        <svg aria-hidden=\"true\" focusable=\"false\" className=\"uppy-c-icon uppy-Dashboard-poweredByIcon\" width=\"11\" height=\"11\" viewBox=\"0 0 11 11\">\n          <path d=\"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z\" fillRule=\"evenodd\" />\n        </svg>\n        <span className=\"uppy-Dashboard-poweredByUppy\">Uppy</span>\n      </span>\n    )\n\n    const linkText = i18nArray('poweredBy', { uppy: uppyBranding })\n\n    return (\n      <a\n        tabIndex=\"-1\"\n        href=\"https://uppy.io\"\n        rel=\"noreferrer noopener\"\n        target=\"_blank\"\n        className=\"uppy-Dashboard-poweredBy\"\n      >\n        {linkText}\n      </a>\n    )\n  }\n\n  render () {\n    const {\n      showNativePhotoCameraButton,\n      showNativeVideoCameraButton,\n      nativeCameraFacingMode,\n    } = this.props\n\n    return (\n      <div className=\"uppy-Dashboard-AddFiles\">\n        {this.renderHiddenInput(false, (ref) => { this.fileInput = ref })}\n        {this.renderHiddenInput(true, (ref) => { this.folderInput = ref })}\n        {showNativePhotoCameraButton && this.renderHiddenCameraInput('photo', nativeCameraFacingMode, (ref) => { this.mobilePhotoFileInput = ref })}\n        {showNativeVideoCameraButton && this.renderHiddenCameraInput('video', nativeCameraFacingMode, (ref) => { this.mobileVideoFileInput = ref })}\n        {this.renderDropPasteBrowseTagline()}\n        {this.renderSourcesList(this.props.acquirers, this.props.disableLocalFiles)}\n        <div className=\"uppy-Dashboard-AddFiles-info\">\n          {this.props.note && <div className=\"uppy-Dashboard-note\">{this.props.note}</div>}\n          {this.props.proudlyDisplayPoweredByUppy && this.renderPoweredByUppy(this.props)}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default AddFiles\n"],"mappings":"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"}