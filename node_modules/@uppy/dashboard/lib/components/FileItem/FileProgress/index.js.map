{"version":3,"names":["h","onPauseResumeCancelRetry","props","isUploaded","error","hideRetryButton","uppy","retryUpload","file","id","resumableUploads","hidePauseResumeButton","pauseResume","individualCancellation","hideCancelButton","removeFile","progressIndicatorTitle","i18n","isPaused","ProgressIndicatorButton","children","ProgressCircleContainer","ProgressCircle","progress","circleLength","Math","PI","FileProgress","uploadStarted","recoveredState","undefined","percentage"],"sources":["index.jsx"],"sourcesContent":["import { h } from 'preact'\n\nfunction onPauseResumeCancelRetry (props) {\n  if (props.isUploaded) return\n\n  if (props.error && !props.hideRetryButton) {\n    props.uppy.retryUpload(props.file.id)\n    return\n  }\n\n  if (props.resumableUploads && !props.hidePauseResumeButton) {\n    props.uppy.pauseResume(props.file.id)\n  } else if (props.individualCancellation && !props.hideCancelButton) {\n    props.uppy.removeFile(props.file.id)\n  }\n}\n\nfunction progressIndicatorTitle (props) {\n  if (props.isUploaded) {\n    return props.i18n('uploadComplete')\n  }\n\n  if (props.error) {\n    return props.i18n('retryUpload')\n  }\n\n  if (props.resumableUploads) {\n    if (props.file.isPaused) {\n      return props.i18n('resumeUpload')\n    }\n    return props.i18n('pauseUpload')\n  } if (props.individualCancellation) {\n    return props.i18n('cancelUpload')\n  }\n\n  return ''\n}\n\nfunction ProgressIndicatorButton (props) {\n  return (\n    <div className=\"uppy-Dashboard-Item-progress\">\n      <button\n        className=\"uppy-u-reset uppy-Dashboard-Item-progressIndicator\"\n        type=\"button\"\n        aria-label={progressIndicatorTitle(props)}\n        title={progressIndicatorTitle(props)}\n        onClick={() => onPauseResumeCancelRetry(props)}\n      >\n        {props.children}\n      </button>\n    </div>\n  )\n}\n\nfunction ProgressCircleContainer ({ children }) {\n  return (\n    <svg\n      aria-hidden=\"true\"\n      focusable=\"false\"\n      width=\"70\"\n      height=\"70\"\n      viewBox=\"0 0 36 36\"\n      className=\"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle\"\n    >\n      {children}\n    </svg>\n  )\n}\n\nfunction ProgressCircle ({ progress }) {\n  // circle length equals 2 * PI * R\n  const circleLength = 2 * Math.PI * 15\n\n  return (\n    <g>\n      <circle\n        className=\"uppy-Dashboard-Item-progressIcon--bg\"\n        r=\"15\"\n        cx=\"18\"\n        cy=\"18\"\n        stroke-width=\"2\"\n        fill=\"none\"\n      />\n      <circle\n        className=\"uppy-Dashboard-Item-progressIcon--progress\"\n        r=\"15\"\n        cx=\"18\"\n        cy=\"18\"\n        transform=\"rotate(-90, 18, 18)\"\n        fill=\"none\"\n        stroke-width=\"2\"\n        stroke-dasharray={circleLength}\n        stroke-dashoffset={circleLength - ((circleLength / 100) * progress)}\n      />\n    </g>\n  )\n}\n\nexport default function FileProgress (props) {\n  // Nothing if upload has not started\n  if (!props.file.progress.uploadStarted) {\n    return null\n  }\n\n  // Green checkmark when complete\n  if (props.isUploaded) {\n    return (\n      <div className=\"uppy-Dashboard-Item-progress\">\n        <div className=\"uppy-Dashboard-Item-progressIndicator\">\n          <ProgressCircleContainer>\n            <circle r=\"15\" cx=\"18\" cy=\"18\" fill=\"#1bb240\" />\n            <polygon className=\"uppy-Dashboard-Item-progressIcon--check\" transform=\"translate(2, 3)\" points=\"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634\" />\n          </ProgressCircleContainer>\n        </div>\n      </div>\n    )\n  }\n\n  if (props.recoveredState) {\n    return undefined\n  }\n\n  // Retry button for error\n  if (props.error && !props.hideRetryButton) {\n    return (\n      // eslint-disable-next-line react/jsx-props-no-spreading\n      <ProgressIndicatorButton {...props}>\n        <svg aria-hidden=\"true\" focusable=\"false\" className=\"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry\" width=\"28\" height=\"31\" viewBox=\"0 0 16 19\">\n          <path d=\"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z\" />\n          <path d=\"M7.9 3H10v2H7.9z\" />\n          <path d=\"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z\" />\n          <path d=\"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z\" />\n        </svg>\n      </ProgressIndicatorButton>\n    )\n  }\n\n  // Pause/resume button for resumable uploads\n  if (props.resumableUploads && !props.hidePauseResumeButton) {\n    return (\n      // eslint-disable-next-line react/jsx-props-no-spreading\n      <ProgressIndicatorButton {...props}>\n        <ProgressCircleContainer>\n          <ProgressCircle progress={props.file.progress.percentage} />\n          {\n            props.file.isPaused\n              ? <polygon className=\"uppy-Dashboard-Item-progressIcon--play\" transform=\"translate(3, 3)\" points=\"12 20 12 10 20 15\" />\n              : (\n                <g className=\"uppy-Dashboard-Item-progressIcon--pause\" transform=\"translate(14.5, 13)\">\n                  <rect x=\"0\" y=\"0\" width=\"2\" height=\"10\" rx=\"0\" />\n                  <rect x=\"5\" y=\"0\" width=\"2\" height=\"10\" rx=\"0\" />\n                </g>\n              )\n          }\n        </ProgressCircleContainer>\n      </ProgressIndicatorButton>\n    )\n  }\n\n  // Cancel button for non-resumable uploads if individualCancellation is supported (not bundled)\n  if (!props.resumableUploads && props.individualCancellation && !props.hideCancelButton) {\n    return (\n      // eslint-disable-next-line react/jsx-props-no-spreading\n      <ProgressIndicatorButton {...props}>\n        <ProgressCircleContainer>\n          <ProgressCircle progress={props.file.progress.percentage} />\n          <polygon className=\"cancel\" transform=\"translate(2, 2)\" points=\"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12\" />\n        </ProgressCircleContainer>\n      </ProgressIndicatorButton>\n    )\n  }\n\n  // Just progress when buttons are disabled\n  return (\n    <div className=\"uppy-Dashboard-Item-progress\">\n      <div className=\"uppy-Dashboard-Item-progressIndicator\">\n        <ProgressCircleContainer>\n          <ProgressCircle progress={props.file.progress.percentage} />\n        </ProgressCircleContainer>\n      </div>\n    </div>\n  )\n}\n"],"mappings":"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"}