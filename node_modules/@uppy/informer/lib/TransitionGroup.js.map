{"version":3,"names":["Component","cloneElement","h","toChildArray","assign","obj","props","Object","getKey","vnode","fallback","key","linkRef","component","name","cache","_ptgLinkedRefs","c","refs","getChildMapping","children","out","i","length","toString","mergeChildMappings","prev","next","getValueForKey","hasOwnProperty","nextKeysPending","pendingKeys","prevKey","push","childMapping","nextKey","pendingNextKey","identity","TransitionGroup","constructor","context","state","performAppear","bind","performEnter","performLeave","componentWillMount","currentlyTransitioningKeys","keysToAbortLeave","keysToEnter","keysToLeave","componentDidMount","initialChildMapping","componentWillReceiveProps","nextProps","nextChildMapping","prevChildMapping","setState","prevState","hasPrev","hasNext","componentDidUpdate","forEach","_finishAbort","idx","indexOf","splice","componentWillAppear","_handleDoneAppearing","componentDidAppear","currentChildMapping","componentWillEnter","_handleDoneEntering","componentDidEnter","componentWillLeave","_handleDoneLeaving","componentDidLeave","render","childFactory","transitionLeave","transitionName","transitionAppear","transitionEnter","transitionLeaveTimeout","transitionEnterTimeout","transitionAppearTimeout","childrenToRender","entries","map","child","undefined","ref","filter","Boolean","defaultProps"],"sources":["TransitionGroup.js"],"sourcesContent":["/* eslint-disable */\n/**\n * @source https://github.com/developit/preact-transition-group\n */\n\nimport { Component, cloneElement, h, toChildArray } from 'preact'\n\nfunction assign (obj, props) {\n  return Object.assign(obj, props)\n}\nfunction getKey (vnode, fallback) {\n  return vnode?.key ?? fallback\n}\nfunction linkRef (component, name) {\n  const cache = component._ptgLinkedRefs || (component._ptgLinkedRefs = {})\n  return cache[name] || (cache[name] = c => {\n    component.refs[name] = c\n  })\n}\n\nfunction getChildMapping (children) {\n  const out = {}\n  for (let i = 0; i < children.length; i++) {\n    if (children[i] != null) {\n      const key = getKey(children[i], i.toString(36))\n      out[key] = children[i]\n    }\n  }\n  return out\n}\n\nfunction mergeChildMappings (prev, next) {\n  prev = prev || {}\n  next = next || {}\n\n  const getValueForKey = key => (next.hasOwnProperty(key) ? next[key] : prev[key])\n\n  // For each key of `next`, the list of keys to insert before that key in\n  // the combined list\n  const nextKeysPending = {}\n\n  let pendingKeys = []\n  for (const prevKey in prev) {\n    if (next.hasOwnProperty(prevKey)) {\n      if (pendingKeys.length) {\n        nextKeysPending[prevKey] = pendingKeys\n        pendingKeys = []\n      }\n    } else {\n      pendingKeys.push(prevKey)\n    }\n  }\n\n  const childMapping = {}\n  for (const nextKey in next) {\n    if (nextKeysPending.hasOwnProperty(nextKey)) {\n      for (let i = 0; i < nextKeysPending[nextKey].length; i++) {\n        const pendingNextKey = nextKeysPending[nextKey][i]\n        childMapping[nextKeysPending[nextKey][i]] = getValueForKey(pendingNextKey)\n      }\n    }\n    childMapping[nextKey] = getValueForKey(nextKey)\n  }\n\n  // Finally, add the keys which didn't appear before any key in `next`\n  for (let i = 0; i < pendingKeys.length; i++) {\n    childMapping[pendingKeys[i]] = getValueForKey(pendingKeys[i])\n  }\n\n  return childMapping\n}\n\nconst identity = i => i\n\nclass TransitionGroup extends Component {\n  constructor (props, context) {\n    super(props, context)\n\n    this.refs = {}\n\n    this.state = {\n      children: getChildMapping(toChildArray(toChildArray(this.props.children)) || []),\n    }\n\n    this.performAppear = this.performAppear.bind(this)\n    this.performEnter = this.performEnter.bind(this)\n    this.performLeave = this.performLeave.bind(this)\n  }\n\n  componentWillMount () {\n    this.currentlyTransitioningKeys = {}\n    this.keysToAbortLeave = []\n    this.keysToEnter = []\n    this.keysToLeave = []\n  }\n\n  componentDidMount () {\n    const initialChildMapping = this.state.children\n    for (const key in initialChildMapping) {\n      if (initialChildMapping[key]) {\n        // this.performAppear(getKey(initialChildMapping[key], key));\n        this.performAppear(key)\n      }\n    }\n  }\n\n  componentWillReceiveProps (nextProps) {\n    const nextChildMapping = getChildMapping(toChildArray(nextProps.children) || [])\n    const prevChildMapping = this.state.children\n\n    this.setState(prevState => ({\n      children: mergeChildMappings(prevState.children, nextChildMapping),\n    }))\n\n    let key\n\n    for (key in nextChildMapping) {\n      if (nextChildMapping.hasOwnProperty(key)) {\n        const hasPrev = prevChildMapping && prevChildMapping.hasOwnProperty(key)\n        // We should re-enter the component and abort its leave function\n        if (nextChildMapping[key] && hasPrev && this.currentlyTransitioningKeys[key]) {\n          this.keysToEnter.push(key)\n          this.keysToAbortLeave.push(key)\n        } else if (nextChildMapping[key] && !hasPrev && !this.currentlyTransitioningKeys[key]) {\n          this.keysToEnter.push(key)\n        }\n      }\n    }\n\n    for (key in prevChildMapping) {\n      if (prevChildMapping.hasOwnProperty(key)) {\n        const hasNext = nextChildMapping && nextChildMapping.hasOwnProperty(key)\n        if (prevChildMapping[key] && !hasNext && !this.currentlyTransitioningKeys[key]) {\n          this.keysToLeave.push(key)\n        }\n      }\n    }\n  }\n\n  componentDidUpdate () {\n    const { keysToEnter } = this\n    this.keysToEnter = []\n    keysToEnter.forEach(this.performEnter)\n\n    const { keysToLeave } = this\n    this.keysToLeave = []\n    keysToLeave.forEach(this.performLeave)\n  }\n\n  _finishAbort (key) {\n    const idx = this.keysToAbortLeave.indexOf(key)\n    if (idx !== -1) {\n      this.keysToAbortLeave.splice(idx, 1)\n    }\n  }\n\n  performAppear (key) {\n    this.currentlyTransitioningKeys[key] = true\n\n    const component = this.refs[key]\n\n    if (component.componentWillAppear) {\n      component.componentWillAppear(this._handleDoneAppearing.bind(this, key))\n    } else {\n      this._handleDoneAppearing(key)\n    }\n  }\n\n  _handleDoneAppearing (key) {\n    const component = this.refs[key]\n    if (component.componentDidAppear) {\n      component.componentDidAppear()\n    }\n\n    delete this.currentlyTransitioningKeys[key]\n    this._finishAbort(key)\n\n    const currentChildMapping = getChildMapping(toChildArray(this.props.children) || [])\n\n    if (!currentChildMapping || !currentChildMapping.hasOwnProperty(key)) {\n      // This was removed before it had fully appeared. Remove it.\n      this.performLeave(key)\n    }\n  }\n\n  performEnter (key) {\n    this.currentlyTransitioningKeys[key] = true\n\n    const component = this.refs[key]\n\n    if (component.componentWillEnter) {\n      component.componentWillEnter(this._handleDoneEntering.bind(this, key))\n    } else {\n      this._handleDoneEntering(key)\n    }\n  }\n\n  _handleDoneEntering (key) {\n    const component = this.refs[key]\n    if (component.componentDidEnter) {\n      component.componentDidEnter()\n    }\n\n    delete this.currentlyTransitioningKeys[key]\n    this._finishAbort(key)\n\n    const currentChildMapping = getChildMapping(toChildArray(this.props.children) || [])\n\n    if (!currentChildMapping || !currentChildMapping.hasOwnProperty(key)) {\n      // This was removed before it had fully entered. Remove it.\n      this.performLeave(key)\n    }\n  }\n\n  performLeave (key) {\n    // If we should immediately abort this leave function,\n    // don't run the leave transition at all.\n    const idx = this.keysToAbortLeave.indexOf(key)\n    if (idx !== -1) {\n      return\n    }\n\n    this.currentlyTransitioningKeys[key] = true\n\n    const component = this.refs[key]\n    if (component.componentWillLeave) {\n      component.componentWillLeave(this._handleDoneLeaving.bind(this, key))\n    } else {\n      // Note that this is somewhat dangerous b/c it calls setState()\n      // again, effectively mutating the component before all the work\n      // is done.\n      this._handleDoneLeaving(key)\n    }\n  }\n\n  _handleDoneLeaving (key) {\n    // If we should immediately abort the leave,\n    // then skip this altogether\n    const idx = this.keysToAbortLeave.indexOf(key)\n    if (idx !== -1) {\n      return\n    }\n\n    const component = this.refs[key]\n\n    if (component.componentDidLeave) {\n      component.componentDidLeave()\n    }\n\n    delete this.currentlyTransitioningKeys[key]\n\n    const currentChildMapping = getChildMapping(toChildArray(this.props.children) || [])\n\n    if (currentChildMapping && currentChildMapping.hasOwnProperty(key)) {\n      // This entered again before it fully left. Add it again.\n      this.performEnter(key)\n    } else {\n      const children = assign({}, this.state.children)\n      delete children[key]\n      this.setState({ children })\n    }\n  }\n\n  render ({ childFactory, transitionLeave, transitionName, transitionAppear, transitionEnter, transitionLeaveTimeout, transitionEnterTimeout, transitionAppearTimeout, component, ...props }, { children }) {\n    // TODO: we could get rid of the need for the wrapper node\n    // by cloning a single child\n    const childrenToRender = Object.entries(children).map(([key, child]) => {\n      if (!child) return undefined\n\n      const ref = linkRef(this, key);\n      return cloneElement(childFactory(child), { ref, key })\n    }).filter(Boolean)\n\n    return h(component, props, childrenToRender)\n  }\n}\n\nTransitionGroup.defaultProps = {\n  component: 'span',\n  childFactory: identity,\n}\n\nexport default TransitionGroup\n"],"mappings":"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"}