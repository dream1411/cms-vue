{"version":3,"names":["DashboardPlugin","shallowEqualObjects","Vue","isVue2","data","plugin","props","uppy","required","type","Object","plugins","Array","mounted","installPlugin","methods","options","id","inline","target","$refs","container","use","getPlugin","uninstallPlugin","removePlugin","beforeDestroy","beforeUnmount","watch","current","old","setOptions","render","args","createElement","ref","h"],"sources":["dashboard.js"],"sourcesContent":["import DashboardPlugin from '@uppy/dashboard'\nimport { shallowEqualObjects } from 'shallow-equal'\n\n// Cross compatibility dependencies\nimport * as Vue from 'vue'\nimport { isVue2 } from './utils.js'\n\nexport default {\n  data () {\n    return {\n      plugin: {},\n    }\n  },\n  props: {\n    uppy: {\n      required: true,\n    },\n    props: {\n      type: Object,\n    },\n    plugins: {\n      type: Array,\n    },\n  },\n  mounted () {\n    this.installPlugin()\n  },\n  methods: {\n    installPlugin () {\n      const { uppy } = this\n      const options = {\n        id: 'vue:Dashboard',\n        inline: true,\n        plugins: this.plugins,\n        ...this.props,\n        target: this.$refs.container,\n      }\n      uppy.use(DashboardPlugin, options)\n      this.plugin = uppy.getPlugin(options.id)\n    },\n    uninstallPlugin (uppy) {\n      uppy.removePlugin(this.plugin)\n    },\n  },\n  beforeDestroy () {\n    this.uninstallPlugin(this.uppy)\n  },\n  beforeUnmount () {\n    this.uninstallPlugin(this.uppy)\n  },\n  watch: {\n    uppy (current, old) {\n      if (old !== current) {\n        this.uninstallPlugin(old)\n        this.installPlugin()\n      }\n    },\n    props (current, old) {\n      if (!shallowEqualObjects(current, old)) {\n        this.plugin.setOptions({ ...current })\n      }\n    },\n  },\n  render (...args) {\n    // Hack to allow support for Vue 2 and 3\n    if (isVue2(...args)) {\n      // If it's first argument is a function, then it's a Vue 2 App\n      const [createElement] = args\n      return createElement('div', {\n        ref: 'container',\n      })\n    }\n\n    // Otherwise, we use the `h` function from the Vue package (in Vue 3 fashion)\n    return Vue.h('div', {\n      ref: 'container',\n    })\n  },\n}\n"],"mappings":"AAAA,OAAOA,eAAP,MAA4B,iBAA5B;AACA,SAASC,mBAAT,QAAoC,eAApC,C,CAEA;;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,SAASC,MAAT,QAAuB,YAAvB;AAEA,eAAe;EACbC,IAAI,GAAI;IACN,OAAO;MACLC,MAAM,EAAE;IADH,CAAP;EAGD,CALY;;EAMbC,KAAK,EAAE;IACLC,IAAI,EAAE;MACJC,QAAQ,EAAE;IADN,CADD;IAILF,KAAK,EAAE;MACLG,IAAI,EAAEC;IADD,CAJF;IAOLC,OAAO,EAAE;MACPF,IAAI,EAAEG;IADC;EAPJ,CANM;;EAiBbC,OAAO,GAAI;IACT,KAAKC,aAAL;EACD,CAnBY;;EAoBbC,OAAO,EAAE;IACPD,aAAa,GAAI;MACf,MAAM;QAAEP;MAAF,IAAW,IAAjB;MACA,MAAMS,OAAO,GAAG;QACdC,EAAE,EAAE,eADU;QAEdC,MAAM,EAAE,IAFM;QAGdP,OAAO,EAAE,KAAKA,OAHA;QAId,GAAG,KAAKL,KAJM;QAKda,MAAM,EAAE,KAAKC,KAAL,CAAWC;MALL,CAAhB;MAOAd,IAAI,CAACe,GAAL,CAAStB,eAAT,EAA0BgB,OAA1B;MACA,KAAKX,MAAL,GAAcE,IAAI,CAACgB,SAAL,CAAeP,OAAO,CAACC,EAAvB,CAAd;IACD,CAZM;;IAaPO,eAAe,CAAEjB,IAAF,EAAQ;MACrBA,IAAI,CAACkB,YAAL,CAAkB,KAAKpB,MAAvB;IACD;;EAfM,CApBI;;EAqCbqB,aAAa,GAAI;IACf,KAAKF,eAAL,CAAqB,KAAKjB,IAA1B;EACD,CAvCY;;EAwCboB,aAAa,GAAI;IACf,KAAKH,eAAL,CAAqB,KAAKjB,IAA1B;EACD,CA1CY;;EA2CbqB,KAAK,EAAE;IACLrB,IAAI,CAAEsB,OAAF,EAAWC,GAAX,EAAgB;MAClB,IAAIA,GAAG,KAAKD,OAAZ,EAAqB;QACnB,KAAKL,eAAL,CAAqBM,GAArB;QACA,KAAKhB,aAAL;MACD;IACF,CANI;;IAOLR,KAAK,CAAEuB,OAAF,EAAWC,GAAX,EAAgB;MACnB,IAAI,CAAC7B,mBAAmB,CAAC4B,OAAD,EAAUC,GAAV,CAAxB,EAAwC;QACtC,KAAKzB,MAAL,CAAY0B,UAAZ,CAAuB,EAAE,GAAGF;QAAL,CAAvB;MACD;IACF;;EAXI,CA3CM;;EAwDbG,MAAM,GAAW;IAAA,kCAANC,IAAM;MAANA,IAAM;IAAA;;IACf;IACA,IAAI9B,MAAM,CAAC,GAAG8B,IAAJ,CAAV,EAAqB;MACnB;MACA,MAAM,CAACC,aAAD,IAAkBD,IAAxB;MACA,OAAOC,aAAa,CAAC,KAAD,EAAQ;QAC1BC,GAAG,EAAE;MADqB,CAAR,CAApB;IAGD,CARc,CAUf;;;IACA,OAAOjC,GAAG,CAACkC,CAAJ,CAAM,KAAN,EAAa;MAClBD,GAAG,EAAE;IADa,CAAb,CAAP;EAGD;;AAtEY,CAAf"}