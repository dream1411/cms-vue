{"version":3,"names":["DragDropPlugin","shallowEqualObjects","Vue","isVue2","data","plugin","props","uppy","required","type","Object","mounted","installPlugin","methods","options","id","target","$refs","container","use","getPlugin","uninstallPlugin","removePlugin","beforeDestroy","beforeUnmount","watch","current","old","setOptions","render","args","createElement","ref","h"],"sources":["drag-drop.js"],"sourcesContent":["import DragDropPlugin from '@uppy/drag-drop'\nimport { shallowEqualObjects } from 'shallow-equal'\n\n// Cross compatibility dependencies\nimport * as Vue from 'vue'\nimport { isVue2 } from './utils.js'\n\nexport default {\n  data () {\n    return {\n      plugin: {},\n    }\n  },\n  props: {\n    uppy: {\n      required: true,\n    },\n    props: {\n      type: Object,\n    },\n  },\n  mounted () {\n    this.installPlugin()\n  },\n  methods: {\n    installPlugin () {\n      const { uppy } = this\n      const options = {\n        id: 'vue:DragDrop',\n        ...this.props,\n        target: this.$refs.container,\n      }\n      uppy.use(DragDropPlugin, options)\n      this.plugin = uppy.getPlugin(options.id)\n    },\n    uninstallPlugin (uppy) {\n      uppy.removePlugin(this.plugin)\n    },\n  },\n  beforeDestroy () {\n    this.uninstallPlugin(this.uppy)\n  },\n  beforeUnmount () {\n    this.uninstallPlugin(this.uppy)\n  },\n  watch: {\n    uppy (current, old) {\n      if (old !== current) {\n        this.uninstallPlugin(old)\n        this.installPlugin()\n      }\n    },\n    props (current, old) {\n      if (!shallowEqualObjects(current, old)) {\n        this.plugin.setOptions({ ...current })\n      }\n    },\n  },\n  render (...args) {\n    // Hack to allow support for Vue 2 and 3\n    if (isVue2(...args)) {\n      // If it's first argument is a function, then it's a Vue 2 App\n      const [createElement] = args\n      return createElement('div', {\n        ref: 'container',\n      })\n    }\n\n    // Otherwise, we import the `h` function from the Vue package (in Vue 3 fashion)\n    return Vue.h('div', {\n      ref: 'container',\n    })\n  },\n}\n"],"mappings":"AAAA,OAAOA,cAAP,MAA2B,iBAA3B;AACA,SAASC,mBAAT,QAAoC,eAApC,C,CAEA;;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,SAASC,MAAT,QAAuB,YAAvB;AAEA,eAAe;EACbC,IAAI,GAAI;IACN,OAAO;MACLC,MAAM,EAAE;IADH,CAAP;EAGD,CALY;;EAMbC,KAAK,EAAE;IACLC,IAAI,EAAE;MACJC,QAAQ,EAAE;IADN,CADD;IAILF,KAAK,EAAE;MACLG,IAAI,EAAEC;IADD;EAJF,CANM;;EAcbC,OAAO,GAAI;IACT,KAAKC,aAAL;EACD,CAhBY;;EAiBbC,OAAO,EAAE;IACPD,aAAa,GAAI;MACf,MAAM;QAAEL;MAAF,IAAW,IAAjB;MACA,MAAMO,OAAO,GAAG;QACdC,EAAE,EAAE,cADU;QAEd,GAAG,KAAKT,KAFM;QAGdU,MAAM,EAAE,KAAKC,KAAL,CAAWC;MAHL,CAAhB;MAKAX,IAAI,CAACY,GAAL,CAASnB,cAAT,EAAyBc,OAAzB;MACA,KAAKT,MAAL,GAAcE,IAAI,CAACa,SAAL,CAAeN,OAAO,CAACC,EAAvB,CAAd;IACD,CAVM;;IAWPM,eAAe,CAAEd,IAAF,EAAQ;MACrBA,IAAI,CAACe,YAAL,CAAkB,KAAKjB,MAAvB;IACD;;EAbM,CAjBI;;EAgCbkB,aAAa,GAAI;IACf,KAAKF,eAAL,CAAqB,KAAKd,IAA1B;EACD,CAlCY;;EAmCbiB,aAAa,GAAI;IACf,KAAKH,eAAL,CAAqB,KAAKd,IAA1B;EACD,CArCY;;EAsCbkB,KAAK,EAAE;IACLlB,IAAI,CAAEmB,OAAF,EAAWC,GAAX,EAAgB;MAClB,IAAIA,GAAG,KAAKD,OAAZ,EAAqB;QACnB,KAAKL,eAAL,CAAqBM,GAArB;QACA,KAAKf,aAAL;MACD;IACF,CANI;;IAOLN,KAAK,CAAEoB,OAAF,EAAWC,GAAX,EAAgB;MACnB,IAAI,CAAC1B,mBAAmB,CAACyB,OAAD,EAAUC,GAAV,CAAxB,EAAwC;QACtC,KAAKtB,MAAL,CAAYuB,UAAZ,CAAuB,EAAE,GAAGF;QAAL,CAAvB;MACD;IACF;;EAXI,CAtCM;;EAmDbG,MAAM,GAAW;IAAA,kCAANC,IAAM;MAANA,IAAM;IAAA;;IACf;IACA,IAAI3B,MAAM,CAAC,GAAG2B,IAAJ,CAAV,EAAqB;MACnB;MACA,MAAM,CAACC,aAAD,IAAkBD,IAAxB;MACA,OAAOC,aAAa,CAAC,KAAD,EAAQ;QAC1BC,GAAG,EAAE;MADqB,CAAR,CAApB;IAGD,CARc,CAUf;;;IACA,OAAO9B,GAAG,CAAC+B,CAAJ,CAAM,KAAN,EAAa;MAClBD,GAAG,EAAE;IADa,CAAb,CAAP;EAGD;;AAjEY,CAAf"}